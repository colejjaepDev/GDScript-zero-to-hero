<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World 1: Foundations - GDScript Quest</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .back-btn {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        .back-btn:hover { background: rgba(255,255,255,0.2); transform: translateX(-5px); }
        header { text-align: center; padding: 30px 0; }
        h1 { font-size: 3em; margin-bottom: 10px; }
        .progress-section {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
        }
        .progress-bar {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            height: 25px;
            overflow: hidden;
            margin-top: 10px;
        }
        .progress-fill {
            background: linear-gradient(90deg, #10b981, #059669);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            font-size: 0.9em;
            font-weight: bold;
        }
        .lessons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .lesson-card {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .lesson-card:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.15);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .lesson-card.completed {
            border-color: #10b981;
            background: rgba(16,185,129,0.2);
        }
        .lesson-card.locked {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .lesson-card.locked:hover { transform: none; }
        .lesson-icon { font-size: 2.5em; margin-bottom: 10px; }
        .lesson-title { font-size: 1.3em; margin-bottom: 10px; }
        .lesson-type {
            display: inline-block;
            background: rgba(0,0,0,0.3);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            margin-top: 10px;
        }
        .lesson-xp {
            display: inline-block;
            background: rgba(251,191,36,0.3);
            color: #fbbf24;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            margin-top: 10px;
            margin-left: 5px;
        }
        .section-title {
            font-size: 2em;
            margin: 40px 0 20px 0;
            padding-left: 20px;
            border-left: 5px solid #10b981;
        }
        .boss-card {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            border: 3px solid #fbbf24 !important;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .project-card {
            background: linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%);
            border: 3px solid #a78bfa !important;
        }
        .checkmark { color: #10b981; font-size: 1.5em; float: right; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-btn">â† Back to Quest Map</a>
        <header>
            <h1>ğŸ—ºï¸ World 1: Foundations</h1>
            <p style="font-size: 1.2em;">The Tutorial Zone</p>
        </header>
        <div class="progress-section">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3>World Progress</h3>
                <span id="progressText">0 / 13 Completed</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill">0%</div>
            </div>
        </div>

        <h2 class="section-title">ğŸ“š Core Lessons</h2>
        <div class="lessons-grid">
            <div class="lesson-card" id="lesson1" onclick="go('lesson1.html')">
                <div class="lesson-icon">ğŸ¯</div>
                <h3 class="lesson-title">Lesson 1: Welcome to GDScript</h3>
                <p>Your first steps into game development with Godot!</p>
                <span class="lesson-type">ğŸ“– Tutorial</span>
                <span class="lesson-xp">+50 XP</span>
            </div>
            <div class="lesson-card locked" id="lesson2" onclick="checkGo('lesson2','lesson2.html',['w1_l1'])">
                <div class="lesson-icon">ğŸ“¦</div>
                <h3 class="lesson-title">Lesson 2: Variables & Data Types</h3>
                <p>Store and manipulate data like a pro!</p>
                <span class="lesson-type">ğŸ“– Tutorial</span>
                <span class="lesson-xp">+75 XP</span>
            </div>
            <div class="lesson-card locked" id="lab1" onclick="checkGo('lab1','lab1.html',['w1_l2'])">
                <div class="lesson-icon">ğŸ”§</div>
                <h3 class="lesson-title">Lab 1: Variable Playground</h3>
                <p>Hands-on practice with variables and types.</p>
                <span class="lesson-type">ğŸ’ª Lab</span>
                <span class="lesson-xp">+100 XP</span>
            </div>
            <div class="lesson-card locked" id="lesson3" onclick="checkGo('lesson3','lesson3.html',['w1_lab1'])">
                <div class="lesson-icon">ğŸ®</div>
                <h3 class="lesson-title">Lesson 3: Functions & Methods</h3>
                <p>Write reusable code and understand the Node system.</p>
                <span class="lesson-type">ğŸ“– Tutorial</span>
                <span class="lesson-xp">+75 XP</span>
            </div>
            <div class="lesson-card locked" id="lesson4" onclick="checkGo('lesson4','lesson4.html',['w1_l3'])">
                <div class="lesson-icon">âš¡</div>
                <h3 class="lesson-title">Lesson 4: Conditionals & Logic</h3>
                <p>Make decisions and control the flow of your game!</p>
                <span class="lesson-type">ğŸ“– Tutorial</span>
                <span class="lesson-xp">+75 XP</span>
            </div>
            <div class="lesson-card locked" id="lab2" onclick="checkGo('lab2','lab2.html',['w1_l4'])">
                <div class="lesson-icon">ğŸ§ª</div>
                <h3 class="lesson-title">Lab 2: Logic Challenge</h3>
                <p>Test your conditional logic skills!</p>
                <span class="lesson-type">ğŸ’ª Lab</span>
                <span class="lesson-xp">+100 XP</span>
            </div>
        </div>

        <h2 class="section-title">ğŸ¯ Boss Battle</h2>
        <div class="lessons-grid">
            <div class="lesson-card boss-card locked" id="boss1" onclick="checkGo('boss1','boss1.html',['w1_lab2'])">
                <div class="lesson-icon">âš”ï¸</div>
                <h3 class="lesson-title">Boss Battle: Syntax Sorcerer</h3>
                <p>Prove your mastery of basic GDScript syntax!</p>
                <span class="lesson-type">ğŸ¯ Quiz</span>
                <span class="lesson-xp">+200 XP</span>
            </div>
        </div>

        <h2 class="section-title">ğŸ¨ Projects</h2>
        <div class="lessons-grid">
            <div class="lesson-card project-card locked" id="project1" onclick="checkGo('project1','project1.html',['w1_boss1'])">
                <div class="lesson-icon">ğŸ–±ï¸</div>
                <h3 class="lesson-title">Project 1: Click Counter</h3>
                <p>Build your first interactive Godot game!</p>
                <span class="lesson-type">ğŸ® Project</span>
                <span class="lesson-xp">+300 XP</span>
            </div>
            <div class="lesson-card project-card locked" id="project2" onclick="checkGo('project2','project2.html',['w1_p1'])">
                <div class="lesson-icon">ğŸ²</div>
                <h3 class="lesson-title">Project 2: Number Guesser</h3>
                <p>Create a fun guessing game with UI!</p>
                <span class="lesson-type">ğŸ® Project</span>
                <span class="lesson-xp">+350 XP</span>
            </div>
        </div>

        <h2 class="section-title">ğŸ† Advanced Topics</h2>
        <div class="lessons-grid">
            <div class="lesson-card locked" id="lesson5" onclick="checkGo('lesson5','lesson5.html',['w1_p2'])">
                <div class="lesson-icon">ğŸ”„</div>
                <h3 class="lesson-title">Lesson 5: Loops & Iteration</h3>
                <p>Master for loops, while loops, and iteration!</p>
                <span class="lesson-type">ğŸ“– Tutorial</span>
                <span class="lesson-xp">+75 XP</span>
            </div>
            <div class="lesson-card locked" id="lesson6" onclick="checkGo('lesson6','lesson6.html',['w1_l5'])">
                <div class="lesson-icon">ğŸ“š</div>
                <h3 class="lesson-title">Lesson 6: Arrays & Dictionaries</h3>
                <p>Store and organize complex data structures!</p>
                <span class="lesson-type">ğŸ“– Tutorial</span>
                <span class="lesson-xp">+75 XP</span>
            </div>
            <div class="lesson-card locked" id="lab3" onclick="checkGo('lab3','lab3.html',['w1_l6'])">
                <div class="lesson-icon">ğŸ”¥</div>
                <h3 class="lesson-title">Lab 3: Data Structure Arena</h3>
                <p>Practice arrays and dictionaries in action!</p>
                <span class="lesson-type">ğŸ’ª Lab</span>
                <span class="lesson-xp">+150 XP</span>
            </div>
        </div>

        <h2 class="section-title">ğŸ‘‘ Final Challenge</h2>
        <div class="lessons-grid">
            <div class="lesson-card boss-card locked" id="final" onclick="checkGo('final','final_boss.html',['w1_lab3'])">
                <div class="lesson-icon">ğŸ’€</div>
                <h3 class="lesson-title">FINAL BOSS: Foundation Master</h3>
                <p>The ultimate test of everything you've learned!</p>
                <span class="lesson-type">ğŸ¯ Final Exam</span>
                <span class="lesson-xp">+500 XP</span>
            </div>
        </div>
    </div>

    <script>
        function loadProgress() {
            const p = JSON.parse(localStorage.getItem('gdscript_quest_progress')) || { completedLessons: [] };
            const done = p.completedLessons.filter(l => l.startsWith('w1_')).length;
            document.getElementById('progressText').textContent = done + ' / 13 Completed';
            const pct = (done / 13) * 100;
            document.getElementById('progressFill').style.width = pct + '%';
            document.getElementById('progressFill').textContent = Math.round(pct) + '%';
            
            // Mark completed
            p.completedLessons.forEach(id => {
                const cardId = id.replace('w1_', '');
                const card = document.getElementById(cardId);
                if (card) {
                    card.classList.add('completed');
                    card.classList.remove('locked');
                    if (!card.querySelector('.checkmark')) {
                        const check = document.createElement('span');
                        check.className = 'checkmark';
                        check.textContent = 'âœ“';
                        card.querySelector('.lesson-title').appendChild(check);
                    }
                }
            });
            
            // Auto-unlock
            const unlocks = {
                'lesson2': ['w1_l1'], 'lab1': ['w1_l2'], 'lesson3': ['w1_lab1'],
                'lesson4': ['w1_l3'], 'lab2': ['w1_l4'], 'boss1': ['w1_lab2'],
                'project1': ['w1_boss1'], 'project2': ['w1_p1'], 'lesson5': ['w1_p2'],
                'lesson6': ['w1_l5'], 'lab3': ['w1_l6'], 'final': ['w1_lab3']
            };
            
            Object.keys(unlocks).forEach(cardId => {
                const reqs = unlocks[cardId];
                if (reqs.every(r => p.completedLessons.includes(r))) {
                    const card = document.getElementById(cardId);
                    if (card) card.classList.remove('locked');
                }
            });
        }
        
        function go(url) { location.href = url; }
        
        function checkGo(cardId, url, reqs) {
            const p = JSON.parse(localStorage.getItem('gdscript_quest_progress')) || { completedLessons: [] };
            if (reqs.every(r => p.completedLessons.includes(r))) {
                location.href = url;
            } else {
                alert('ğŸ”’ Complete previous lessons to unlock!');
            }
        }
        
        loadProgress();
    </script>
</body>
</html>
